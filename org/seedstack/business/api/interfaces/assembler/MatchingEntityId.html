<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Aug 06 10:43:23 UTC 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MatchingEntityId (business-doc 2.0.1-SNAPSHOT API)</title>
<meta name="date" content="2015-08-06">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MatchingEntityId (business-doc 2.0.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MatchingEntityId.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/FluentAssembler.html" title="interface in org.seedstack.business.api.interfaces.assembler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/MatchingFactoryParameter.html" title="annotation in org.seedstack.business.api.interfaces.assembler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/seedstack/business/api/interfaces/assembler/MatchingEntityId.html" target="_top">Frames</a></li>
<li><a href="MatchingEntityId.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.seedstack.business.api.interfaces.assembler</div>
<h2 title="Annotation Type MatchingEntityId" class="title">Annotation Type MatchingEntityId</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>)
public @interface <span class="memberNameLabel">MatchingEntityId</span></pre>
<div class="block">This annotation allows the use of the <code>fromRepository()</code> method of the assembler DSL. If you don't use
 this DSL feature, this annotated is unnecessary.
 <p>
 It binds the DTO annotated method to the aggregate root id. If the id is a value object, it binds the method
 to one of the constructor parameters. This allows the assembler DSL to find (or create) the aggregate root id
 in order to load the aggregate root from the repository.
 </p>
 <p>
 It also handle the case of a DTO assembled from a tuple of aggregate roots.
 </p>
 Case 1: Basic use case.
 <pre>
 public class OrderDto {

      @MatchingEntityId
     public int getId() {...}
 }

 public class OrderAssembler extends BaseTupleAssembler&lt;Order, OrderDto&gt; { ... }

 public class Order {

     private int orderId;

     public Integer getEntityId() {
         return orderId;
     }
 }
 </pre>
 Case 1: Basic use case.
 <pre>
 public class CustomerDto {

      @MatchingEntityId(index = 0)
     public String getFirstName() {...}

      @MatchingEntityId(index = 1)
     public String getLastName() {...}

     // No need for annotation here as the birth date is not part of the customer id
     public Date getBirthDate() {...}
 }

 public class RecipeAssembler extends BaseAssembler&lt;Customer, CustomerDto&gt; { ... }

 public class CustomerId {
     public CustomerId(String firstName, String lastName) {...}
 }
 </pre>
 Case 2: The DTO is an assembly of multiple aggregates.
 <pre>
 public class RecipeDto {

      @MatchingEntityId(index = 0, typeIndex = 0)
     public String getCustomerFirstName() {...}

      @MatchingEntityId(index = 1, typeIndex = 0)
     public String getCustomerLastName() {...}

      @MatchingEntityId(typeIndex = 1) // no need for index as OrderId is not a value object
     public int getOrderId() {...}
 }

 public class RecipeAssembler extends BaseTupleAssembler&lt;Pair&lt;Customer, Order&gt;, RecipeDto&gt; { ... }

 public class CustomerId {
     public CustomerId(String firstName, String lastName) {...}
 }

 public class Order {

     private int orderId;

     public Integer getEntityId() {
         return orderId;
     }
 }
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>epo.jemba@ext.mpsa.com</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/MatchingEntityId.html#index--">index</a></span></code>
<div class="block">If the aggregate root id is composite, i.e it is a value object, this method indicates
 constructor parameter of the value object associated to the annotated method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/MatchingEntityId.html#typeIndex--">typeIndex</a></span></code>
<div class="block">When using a tuple assembler, i.e.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="index--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index</h4>
<pre>public abstract&nbsp;int&nbsp;index</pre>
<div class="block">If the aggregate root id is composite, i.e it is a value object, this method indicates
 constructor parameter of the value object associated to the annotated method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parameter index in the id constructor.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>-1</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="typeIndex--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>typeIndex</h4>
<pre>public abstract&nbsp;int&nbsp;typeIndex</pre>
<div class="block">When using a tuple assembler, i.e. when assembling a DTO to tuple of aggregate roots.
 This index indicates to which aggregate root this id belongs.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the aggregate index</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/BaseTupleAssembler.html" title="class in org.seedstack.business.api.interfaces.assembler"><code>BaseTupleAssembler</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>-1</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MatchingEntityId.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/FluentAssembler.html" title="interface in org.seedstack.business.api.interfaces.assembler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/seedstack/business/api/interfaces/assembler/MatchingFactoryParameter.html" title="annotation in org.seedstack.business.api.interfaces.assembler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/seedstack/business/api/interfaces/assembler/MatchingEntityId.html" target="_top">Frames</a></li>
<li><a href="MatchingEntityId.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013-2015&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
